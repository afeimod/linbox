From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Termux Compatibility <termux@patch>
Date: $(date +"%a, %d %b %Y %H:%M:%S %z")
Subject: [PATCH] Add mobile environment detection

diff --git a/dlls/ntdll/unix/unix_private.h b/dlls/ntdll/unix/unix_private.h
index 1234567..890abcd 100644
--- a/dlls/ntdll/unix/unix_private.h
+++ b/dlls/ntdll/unix/unix_private.h
@@ -50,6 +50,18 @@
 extern int CDECL call_signal_handler( int signal, EXCEPTION_RECORD *rec, CONTEXT *context );
 extern void CDECL set_signal_handler( int signal, void (*handler)(int) );
 
+static inline BOOL is_mobile_environment(void)
+{
+    static int mobile_env = -1;
+    
+    if (mobile_env == -1) {
+        const char *android_env = getenv("ANDROID_ROOT");
+        mobile_env = (android_env != NULL);
+    }
+    
+    return mobile_env;
+}
+
 /* server support */
 extern int server_fd;
 extern void CDECL server_init_process_done(void);